benchmark derby 
  class dacapo.derby.DerbyHarness
  thread-model fixed
  jar "jdbcbench.jar"
  libs "derby.jar","derbynet.jar";

size small args "-driver","org.apache.derby.jdbc.EmbeddedDriver",
                "-url","jdbc:derby:${SCRATCH}/derby;create=true",
		"-user","sa",
		"-clients","${THREADS}",
		"-tpc", "5",
		"-tps","4","-v"
  threads 10
  output 
         stdout digest 0x5cb9aec99a567f4783e8f98036a8d3bee52d806c,
         stderr digest 0xda39a3ee5e6b4b0d3255bfef95601890afd80709;

size default args "-driver","org.apache.derby.jdbc.EmbeddedDriver",
                "-url","jdbc:derby:${SCRATCH}/dacapo-derby;create=true",
		  "-user","sa",
		  "-clients","${THREADS}",
		  "-tpc","640",
		  "-tps","128",
		  "-noDynamic"
  threads 20
  output 
         stdout digest 0x2f840224c5795ae657ef8139b64eddf7624e3a98,
         stderr digest 0xda39a3ee5e6b4b0d3255bfef95601890afd80709;

size large args "-driver","org.apache.derby.jdbc.EmbeddedDriver",
                "-url","jdbc:derby:${SCRATCH}/dacapo-derby;create=true",
		"-user","sa",
		"-clients","${THREADS}",
		"-tpc","2560",
		"-tps","512",
		  "-noDynamic"
  threads 40
  output 
         stdout digest 0xd44da3cb1c201a3fef516fe28108d10008c324dd,
         stderr digest 0xda39a3ee5e6b4b0d3255bfef95601890afd80709;


/*
 * Specifically targeted at class-unloading
 */
size dynamic args "-driver","org.apache.derby.jdbc.EmbeddedDriver",
                "-url","jdbc:derby:${SCRATCH}/dacapo-derby;create=true",
		  "-user","sa",
		  "-clients","${THREADS}",
		  "-tpc","320",
		  "-tps","128"
  threads 20
  output 
         stdout digest 0x2f840224c5795ae657ef8139b64eddf7624e3a98,
         stderr digest 0xda39a3ee5e6b4b0d3255bfef95601890afd80709;

description
  short		"An SQL relational database engine written in Java",
  long		"Derby executes a JDBC benchmark, executing a number of transactions against a model of a banking application",
  copyright	"Copyright (c) 2001-2002, The Apache Software Foundation",
  author	"The Apache Software Foundation",
  license	"The Apache license v2.0.",
  url		"http://apache.org/",
  version	"10.3.1.4",
  repeats	"40 transactions per client";
