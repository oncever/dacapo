<project name="junit" default="library" basedir="..">
    <description>junit library, required by pmd, hsqldb and derby</description>
    
	<property file="ant/dacapo.properties"/>
	
	<property name="lib-name" value="junit"/>
    <property name="lib-version" value="3.8.1"/>
    <property name="lib-url" value="${sourceforge.dl.url}/junit"/>
	<property name="lib-src" value="junit${lib-version}.zip"/>
	
	<import file="../lib-common.xml"/>
	
	<property name="junit-jar-name" value="${lib-name}-${lib-version}.jar"/>
	<property name="junit-jar" value="${jars}/${junit-jar-name}"/>
		
	<target name="library" depends="lib-unzip, lib-build, lib-jar"/>	
	
	<target name="lib-unzip">
		<mkdir dir="${lib-build-dir}/"/>
		<unzip src="${sources}/${lib-src}" dest="${lib-build-dir}/">
        	<patternset>
            	<include name="junit${lib-version}/junit.jar"/>
        	</patternset>
   		</unzip>
	</target>

	<target name="lib-jar" depends="junit-jar-check" unless="junit-build-done">
    	<copy file="${lib-build-dir}/junit${lib-version}/junit.jar" tofile="${junit-jar}"/>
	</target>

	<target name="junit-jar-check">
		<condition property="junit-build-done">
			<available file="${junit-jar}"/>
		</condition>
	</target>
</project>