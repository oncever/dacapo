<project name="ant" default="all" basedir="..">
    <description>ant</description>
    
	<property file="ant/dacapo.properties"/>
	
    <property name="ant.dl.version" value="1.6.5"/>
    <property name="ant.url" value="${apache.dl.url}/ant/binaries/"/>

    <!-- Download and build -->
    <target name="all" description="download and build the benchmark">
      <antcall target="source"/>
      <antcall target="build"/>
    </target>
    
    <!-- Download the source -->
    <target name="source" description="download the benchmark">
        <get dest="${sources}/apache-ant-${ant.dl.version}-bin.zip"
         src="${ant.url}/apache-ant-${ant.dl.version}-bin.zip"
       usetimestamp="true"/>
    </target>

    <target name="build">
        <!-- Install the ant jar file -->
         <unzip src="${sources}/apache-ant-${ant.dl.version}-bin.zip" dest="${build.src}/ant/">
             <patternset>
                 <include name="apache-ant-${ant.dl.version}/lib/ant.jar"/>
                 <include name="apache-ant-${ant.dl.version}/lib/ant-launcher.jar"/>
             </patternset>
         </unzip>
         <move file="${build.src}/ant/apache-ant-${ant.dl.version}/lib/ant.jar" tofile="${build.src}/ant/ant.jar"/>
         <move file="${build.src}/ant/apache-ant-${ant.dl.version}/lib/ant-launcher.jar" tofile="${build.src}/ant/ant-launcher.jar"/>
    </target>
</project>
