<project name="hsqldb" default="all" basedir="..">
    <description>Dacapo Hsqldb benchmark</description>
    
	<property file="ant/dacapo.properties"/>
	
	<property name="bm-name" value="hsqldb"/>
    <property name="bm-version" value="1_8_0_4"/>
    <property name="bm-url" value="${sourceforge.dl.url}/hsqldb"/>
	<property name="bm-src" value="hsqldb_${bm-version}.zip"/>

    <import file="../common.xml"/>
	
    <target name="source" depends="common.source">
		<ant antfile="${ant.dir}/junit.xml" target="lib-source"/>
     </target>

    <target name="harness" depends="jdbcbench, common.harness"/>
	
	<target name="jdbcbench"> 
        <ant antfile="${ant.dir}/jdbcbench.xml" target="library"/>
	</target>
		
    <target name="benchmark" depends="bm-unzip, bm-build, bm-jar, bm-data"/>
	
	<target name="bm-build">
		<ant antfile="${ant.dir}/junit.xml" target="library"/>
        <copy file="${junit-jar}" todir="${bm-build-dir}/hsqldb/lib/"/>
        <ant antfile="build/build.xml" dir="${bm-build-dir}/hsqldb" 
           target="hsqldbtest" inheritall="false"/>
    </target>
	
	<target name="bm-jar" depends="deps">
        <copy file="${bm-build-dir}/hsqldb/lib/hsqldbtest.jar" todir="${jars}"/>
	</target>
	
    <target name="deps" if="externalize.deps">
        <unjar src="${bm-build-dir}/hsqldb/lib/servlet.jar" dest="${build.deps}"/>
        <unjar src="${bm-build-dir}/hsqldb/lib/junit.jar" dest="${build.deps}"/>
    </target>

</project>