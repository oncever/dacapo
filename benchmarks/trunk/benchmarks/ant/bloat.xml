<project name="bloat" default="all" basedir="..">
    <description>DaCapo bloat benchmark</description>
	<property file="ant/dacapo.properties"/>
	
	<property name="bm-name" value="bloat"/>
    <property name="bm-version" value="1.0"/>
    <property name="bm-url" value="ftp://ftp.cs.purdue.edu/pub/hosking/bloat"/>
	<property name="bm-src" value="bloat-${bm-version}-src.tar.gz"/>

    <import file="../common.xml"/>
    
    <target name="benchmark" depends="bm-untar, bm-build, bm-jar"/>
  
	<target name="bm-build" depends="bm-patch">
        <exec executable="${make}" dir="${bm-build-dir}/src/EDU/purdue/cs/bloat/">
        	<env key="JAVA_HOME" value="${java.home}"/>
		</exec>
    </target>
	
	<target name="bm-jar">
    	<jar jarfile="${jars}/${bm-name}.jar"
    		 basedir="${bm-build-dir}/src"
    	 	 includes="**/*.class"
    		 excludes="${bm-build-dir}/resources/**/CVS"/>	
	</target>
</project>
